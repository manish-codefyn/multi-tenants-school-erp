# Generated by Django 4.2.7 on 2025-12-13 04:15

import django.core.validators
from django.db import migrations, models
import encrypted_model_fields.fields
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='AppearanceConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('institution_name', models.CharField(default='Educational Institution', max_length=200, verbose_name='Institution Name')),
                ('institution_logo', models.ImageField(blank=True, null=True, upload_to='configuration/branding/', verbose_name='Institution Logo')),
                ('institution_favicon', models.ImageField(blank=True, null=True, upload_to='configuration/branding/', verbose_name='Favicon')),
                ('primary_color', models.CharField(default='#3B82F6', max_length=7, verbose_name='Primary Color')),
                ('secondary_color', models.CharField(default='#1E40AF', max_length=7, verbose_name='Secondary Color')),
                ('accent_color', models.CharField(default='#10B981', max_length=7, verbose_name='Accent Color')),
                ('theme_mode', models.CharField(choices=[('LIGHT', 'Light'), ('DARK', 'Dark'), ('AUTO', 'Auto')], default='LIGHT', max_length=20, verbose_name='Theme Mode')),
                ('custom_css', models.TextField(blank=True, verbose_name='Custom CSS')),
                ('custom_js', models.TextField(blank=True, verbose_name='Custom JavaScript')),
                ('layout_type', models.CharField(choices=[('SIDEBAR', 'Sidebar Layout'), ('TOPNAV', 'Top Navigation'), ('COMPACT', 'Compact')], default='SIDEBAR', max_length=20, verbose_name='Layout Type')),
                ('sidebar_collapsed', models.BooleanField(default=False, verbose_name='Sidebar Collapsed by Default')),
                ('login_background', models.ImageField(blank=True, null=True, upload_to='configuration/login/', verbose_name='Login Background Image')),
                ('login_title', models.CharField(blank=True, max_length=200, verbose_name='Login Page Title')),
                ('login_subtitle', models.TextField(blank=True, verbose_name='Login Page Subtitle')),
                ('dashboard_widgets', models.JSONField(default=list, verbose_name='Dashboard Widgets Configuration')),
                ('default_dashboard_view', models.CharField(default='OVERVIEW', max_length=50, verbose_name='Default Dashboard View')),
                ('footer_text', models.TextField(blank=True, verbose_name='Footer Text')),
                ('show_version_in_footer', models.BooleanField(default=True, verbose_name='Show Version in Footer')),
            ],
            options={
                'verbose_name': 'Appearance Configuration',
                'verbose_name_plural': 'Appearance Configurations',
                'db_table': 'configuration_appearance',
            },
        ),
        migrations.CreateModel(
            name='BackupConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('auto_backup_enabled', models.BooleanField(default=True, verbose_name='Auto Backup Enabled')),
                ('backup_frequency', models.CharField(choices=[('DAILY', 'Daily'), ('WEEKLY', 'Weekly'), ('MONTHLY', 'Monthly')], default='DAILY', max_length=20, verbose_name='Backup Frequency')),
                ('backup_time', models.TimeField(default='02:00', verbose_name='Backup Time')),
                ('retain_backup_days', models.PositiveIntegerField(default=30, verbose_name='Retain Backups (Days)')),
                ('max_backup_files', models.PositiveIntegerField(default=100, verbose_name='Maximum Backup Files')),
                ('storage_type', models.CharField(choices=[('LOCAL', 'Local Storage'), ('AWS_S3', 'Amazon S3'), ('GOOGLE_CLOUD', 'Google Cloud Storage'), ('AZURE', 'Azure Blob Storage')], default='LOCAL', max_length=20, verbose_name='Storage Type')),
                ('storage_config', models.JSONField(blank=True, default=dict, verbose_name='Storage Configuration')),
                ('backup_path', models.CharField(default='/backups/', max_length=500, verbose_name='Backup Path')),
                ('backup_databases', models.BooleanField(default=True, verbose_name='Backup Databases')),
                ('backup_media', models.BooleanField(default=True, verbose_name='Backup Media Files')),
                ('backup_code', models.BooleanField(default=False, verbose_name='Backup Application Code')),
                ('excluded_tables', models.JSONField(blank=True, default=list, verbose_name='Excluded Database Tables')),
                ('encrypt_backups', models.BooleanField(default=True, verbose_name='Encrypt Backups')),
                ('encryption_key', encrypted_model_fields.fields.EncryptedCharField(blank=True, verbose_name='Encryption Key')),
                ('notify_on_backup', models.BooleanField(default=True, verbose_name='Notify on Backup Completion')),
                ('notify_on_failure', models.BooleanField(default=True, verbose_name='Notify on Backup Failure')),
                ('notification_emails', models.JSONField(default=list, verbose_name='Notification Emails')),
                ('last_backup', models.DateTimeField(blank=True, null=True, verbose_name='Last Backup')),
                ('last_backup_status', models.CharField(blank=True, max_length=20, verbose_name='Last Backup Status')),
                ('last_backup_size', models.BigIntegerField(blank=True, null=True, verbose_name='Last Backup Size (bytes)')),
                ('next_backup', models.DateTimeField(blank=True, null=True, verbose_name='Next Scheduled Backup')),
            ],
            options={
                'verbose_name': 'Backup Configuration',
                'verbose_name_plural': 'Backup Configurations',
                'db_table': 'configuration_backup',
            },
        ),
        migrations.CreateModel(
            name='FinancialConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('base_currency', models.CharField(default='INR', max_length=3, verbose_name='Base Currency')),
                ('currency_symbol', models.CharField(default='â‚¹', max_length=5, verbose_name='Currency Symbol')),
                ('decimal_places', models.PositiveIntegerField(default=2, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(4)], verbose_name='Decimal Places')),
                ('tax_enabled', models.BooleanField(default=True, verbose_name='Tax Enabled')),
                ('tax_rate', models.DecimalField(decimal_places=2, default=18.0, max_digits=5, verbose_name='Tax Rate (%)')),
                ('tax_number', models.CharField(blank=True, max_length=100, verbose_name='Tax Identification Number')),
                ('invoice_prefix', models.CharField(default='INV', max_length=10, verbose_name='Invoice Prefix')),
                ('invoice_start_number', models.PositiveIntegerField(default=1000, verbose_name='Invoice Start Number')),
                ('invoice_terms', models.TextField(blank=True, verbose_name='Invoice Terms and Conditions')),
                ('invoice_notes', models.TextField(blank=True, verbose_name='Invoice Notes')),
                ('payment_methods', models.JSONField(default=list, verbose_name='Available Payment Methods')),
                ('online_payment_enabled', models.BooleanField(default=False, verbose_name='Online Payment Enabled')),
                ('payment_gateway_config', models.JSONField(blank=True, default=dict, verbose_name='Payment Gateway Configuration')),
                ('auto_late_fee', models.BooleanField(default=True, verbose_name='Auto Calculate Late Fees')),
                ('late_fee_calculation', models.CharField(choices=[('FIXED', 'Fixed Amount'), ('PERCENTAGE', 'Percentage of Due'), ('DAILY', 'Daily Compound')], default='PERCENTAGE', max_length=20, verbose_name='Late Fee Calculation Method')),
                ('bank_accounts', models.JSONField(default=list, verbose_name='Bank Accounts')),
                ('default_bank_account', models.UUIDField(blank=True, null=True, verbose_name='Default Bank Account ID')),
                ('financial_year_start', models.DateField(verbose_name='Financial Year Start')),
                ('financial_year_end', models.DateField(verbose_name='Financial Year End')),
                ('default_report_period', models.CharField(choices=[('MONTHLY', 'Monthly'), ('QUARTERLY', 'Quarterly'), ('YEARLY', 'Yearly')], default='MONTHLY', max_length=20, verbose_name='Default Report Period')),
            ],
            options={
                'verbose_name': 'Financial Configuration',
                'verbose_name_plural': 'Financial Configurations',
                'db_table': 'configuration_financial',
            },
        ),
        migrations.CreateModel(
            name='IntegrationConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('name', models.CharField(max_length=200, verbose_name='Integration Name')),
                ('provider', models.CharField(max_length=100, verbose_name='Provider')),
                ('integration_type', models.CharField(max_length=50, verbose_name='Integration Type')),
                ('version', models.CharField(default='1.0', max_length=20, verbose_name='Version')),
                ('is_enabled', models.BooleanField(default=False, verbose_name='Is Enabled')),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('INACTIVE', 'Inactive'), ('CONFIGURING', 'Configuring'), ('ERROR', 'Error')], default='INACTIVE', max_length=20, verbose_name='Status')),
                ('config_data', models.JSONField(default=dict, verbose_name='Configuration Data')),
                ('api_keys', models.JSONField(blank=True, default=dict, verbose_name='API Keys and Secrets')),
                ('auth_type', models.CharField(choices=[('API_KEY', 'API Key'), ('OAUTH2', 'OAuth 2.0'), ('BASIC', 'Basic Auth'), ('TOKEN', 'Token')], default='API_KEY', max_length=50, verbose_name='Authentication Type')),
                ('auth_config', models.JSONField(blank=True, default=dict, verbose_name='Authentication Configuration')),
                ('base_url', models.URLField(blank=True, verbose_name='Base URL')),
                ('endpoints', models.JSONField(blank=True, default=dict, verbose_name='API Endpoints')),
                ('webhook_url', models.URLField(blank=True, verbose_name='Webhook URL')),
                ('webhook_secret', encrypted_model_fields.fields.EncryptedCharField(blank=True, verbose_name='Webhook Secret')),
                ('webhook_events', models.JSONField(blank=True, default=list, verbose_name='Webhook Events')),
                ('rate_limit', models.PositiveIntegerField(default=100, verbose_name='Rate Limit (requests per minute)')),
                ('retry_attempts', models.PositiveIntegerField(default=3, verbose_name='Retry Attempts')),
                ('last_sync', models.DateTimeField(blank=True, null=True, verbose_name='Last Sync')),
                ('sync_status', models.CharField(blank=True, max_length=20, verbose_name='Last Sync Status')),
                ('error_message', models.TextField(blank=True, verbose_name='Error Message')),
                ('health_check_url', models.URLField(blank=True, verbose_name='Health Check URL')),
            ],
            options={
                'verbose_name': 'Integration Configuration',
                'verbose_name_plural': 'Integration Configurations',
                'db_table': 'configuration_integration',
                'ordering': ['name', 'provider'],
            },
        ),
        migrations.CreateModel(
            name='NotificationConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('email_enabled', models.BooleanField(default=True, verbose_name='Email Enabled')),
                ('email_host', models.CharField(blank=True, max_length=200, verbose_name='Email Host')),
                ('email_port', models.PositiveIntegerField(default=587, verbose_name='Email Port')),
                ('email_username', models.CharField(blank=True, max_length=200, verbose_name='Email Username')),
                ('email_password', encrypted_model_fields.fields.EncryptedCharField(blank=True, verbose_name='Email Password')),
                ('email_use_tls', models.BooleanField(default=True, verbose_name='Use TLS')),
                ('email_from_address', models.EmailField(blank=True, max_length=254, verbose_name='From Email Address')),
                ('email_from_name', models.CharField(blank=True, max_length=200, verbose_name='From Name')),
                ('sms_enabled', models.BooleanField(default=False, verbose_name='SMS Enabled')),
                ('sms_provider', models.CharField(blank=True, max_length=50, verbose_name='SMS Provider')),
                ('sms_api_key', encrypted_model_fields.fields.EncryptedCharField(blank=True, verbose_name='SMS API Key')),
                ('sms_api_secret', encrypted_model_fields.fields.EncryptedCharField(blank=True, verbose_name='SMS API Secret')),
                ('sms_from_number', models.CharField(blank=True, max_length=20, verbose_name='SMS From Number')),
                ('push_enabled', models.BooleanField(default=False, verbose_name='Push Notifications Enabled')),
                ('push_provider', models.CharField(blank=True, max_length=50, verbose_name='Push Provider')),
                ('push_config', models.JSONField(blank=True, default=dict, verbose_name='Push Configuration')),
                ('whatsapp_enabled', models.BooleanField(default=False, verbose_name='WhatsApp Enabled')),
                ('whatsapp_business_id', models.CharField(blank=True, max_length=100, verbose_name='WhatsApp Business ID')),
                ('whatsapp_access_token', encrypted_model_fields.fields.EncryptedCharField(blank=True, verbose_name='WhatsApp Access Token')),
                ('default_notification_channels', models.JSONField(default=list, verbose_name='Default Notification Channels')),
                ('quiet_hours_start', models.TimeField(blank=True, null=True, verbose_name='Quiet Hours Start')),
                ('quiet_hours_end', models.TimeField(blank=True, null=True, verbose_name='Quiet Hours End')),
                ('default_templates', models.JSONField(default=dict, verbose_name='Default Templates')),
                ('template_variables', models.JSONField(default=dict, verbose_name='Available Template Variables')),
            ],
            options={
                'verbose_name': 'Notification Configuration',
                'verbose_name_plural': 'Notification Configurations',
                'db_table': 'configuration_notification',
            },
        ),
        migrations.CreateModel(
            name='SecurityConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('password_min_length', models.PositiveIntegerField(default=8, verbose_name='Minimum Password Length')),
                ('password_require_uppercase', models.BooleanField(default=True, verbose_name='Require Uppercase Letters')),
                ('password_require_lowercase', models.BooleanField(default=True, verbose_name='Require Lowercase Letters')),
                ('password_require_numbers', models.BooleanField(default=True, verbose_name='Require Numbers')),
                ('password_require_symbols', models.BooleanField(default=True, verbose_name='Require Symbols')),
                ('password_expiry_days', models.PositiveIntegerField(default=90, verbose_name='Password Expiry (Days)')),
                ('password_history_count', models.PositiveIntegerField(default=5, verbose_name='Password History Count')),
                ('session_timeout_minutes', models.PositiveIntegerField(default=30, verbose_name='Session Timeout (Minutes)')),
                ('max_concurrent_sessions', models.PositiveIntegerField(default=3, verbose_name='Maximum Concurrent Sessions')),
                ('force_logout_on_password_change', models.BooleanField(default=True, verbose_name='Force Logout on Password Change')),
                ('max_login_attempts', models.PositiveIntegerField(default=5, verbose_name='Maximum Login Attempts')),
                ('lockout_duration_minutes', models.PositiveIntegerField(default=30, verbose_name='Account Lockout Duration (Minutes)')),
                ('require_2fa', models.BooleanField(default=False, verbose_name='Require Two-Factor Authentication')),
                ('allowed_2fa_methods', models.JSONField(default=list, verbose_name='Allowed 2FA Methods')),
                ('ip_whitelist', models.JSONField(blank=True, default=list, verbose_name='IP Whitelist')),
                ('ip_blacklist', models.JSONField(blank=True, default=list, verbose_name='IP Blacklist')),
                ('enable_ip_restriction', models.BooleanField(default=False, verbose_name='Enable IP Restrictions')),
                ('data_encryption_enabled', models.BooleanField(default=True, verbose_name='Data Encryption Enabled')),
                ('auto_logout_on_inactivity', models.BooleanField(default=True, verbose_name='Auto Logout on Inactivity')),
                ('audit_log_retention_days', models.PositiveIntegerField(default=365, verbose_name='Audit Log Retention (Days)')),
                ('api_rate_limit', models.PositiveIntegerField(default=1000, verbose_name='API Rate Limit (requests per hour)')),
                ('api_key_expiry_days', models.PositiveIntegerField(default=365, verbose_name='API Key Expiry (Days)')),
            ],
            options={
                'verbose_name': 'Security Configuration',
                'verbose_name_plural': 'Security Configurations',
                'db_table': 'configuration_security',
            },
        ),
        migrations.CreateModel(
            name='SystemSetting',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('key', models.CharField(help_text="Unique identifier for the setting (e.g., 'site.title', 'email.host')", max_length=200, unique=True, verbose_name='Setting Key')),
                ('name', models.CharField(max_length=500, verbose_name='Setting Name')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('category', models.CharField(choices=[('GENERAL', 'General'), ('ACADEMIC', 'Academic'), ('FINANCE', 'Finance'), ('COMMUNICATION', 'Communication'), ('SECURITY', 'Security'), ('APPEARANCE', 'Appearance'), ('INTEGRATION', 'Integration'), ('BACKUP', 'Backup & Recovery'), ('NOTIFICATION', 'Notifications'), ('SYSTEM', 'System'), ('CUSTOM', 'Custom')], default='GENERAL', max_length=50, verbose_name='Category')),
                ('group', models.CharField(blank=True, help_text='Sub-group for organizing related settings', max_length=100, verbose_name='Group')),
                ('setting_type', models.CharField(choices=[('STRING', 'String'), ('TEXT', 'Text'), ('INTEGER', 'Integer'), ('DECIMAL', 'Decimal'), ('BOOLEAN', 'Boolean'), ('JSON', 'JSON'), ('DATETIME', 'DateTime'), ('DATE', 'Date'), ('TIME', 'Time'), ('FILE', 'File'), ('IMAGE', 'Image'), ('CHOICE', 'Choice'), ('MULTI_CHOICE', 'Multiple Choice')], default='STRING', max_length=20, verbose_name='Setting Type')),
                ('value_string', models.CharField(blank=True, max_length=2000, verbose_name='String Value')),
                ('value_text', models.TextField(blank=True, verbose_name='Text Value')),
                ('value_integer', models.IntegerField(blank=True, null=True, verbose_name='Integer Value')),
                ('value_decimal', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True, verbose_name='Decimal Value')),
                ('value_boolean', models.BooleanField(blank=True, null=True, verbose_name='Boolean Value')),
                ('value_json', models.JSONField(blank=True, null=True, verbose_name='JSON Value')),
                ('value_datetime', models.DateTimeField(blank=True, null=True, verbose_name='DateTime Value')),
                ('value_date', models.DateField(blank=True, null=True, verbose_name='Date Value')),
                ('value_time', models.TimeField(blank=True, null=True, verbose_name='Time Value')),
                ('is_encrypted', models.BooleanField(default=False, help_text='Whether the setting value should be encrypted in database', verbose_name='Is Encrypted')),
                ('is_public', models.BooleanField(default=False, help_text='Whether this setting can be exposed via API', verbose_name='Is Public')),
                ('is_required', models.BooleanField(default=False, help_text='Whether this setting must have a value', verbose_name='Is Required')),
                ('is_readonly', models.BooleanField(default=False, help_text='Whether this setting can be modified via UI/API', verbose_name='Is Read Only')),
                ('validation_regex', models.CharField(blank=True, max_length=500, verbose_name='Validation Regex')),
                ('validation_message', models.TextField(blank=True, verbose_name='Validation Message')),
                ('min_value', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True, verbose_name='Minimum Value')),
                ('max_value', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True, verbose_name='Maximum Value')),
                ('choices', models.JSONField(blank=True, default=list, help_text='JSON array of choices for CHOICE and MULTI_CHOICE types', verbose_name='Available Choices')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='Display Order')),
                ('version', models.PositiveIntegerField(default=1, verbose_name='Version')),
            ],
            options={
                'verbose_name': 'System Setting',
                'verbose_name_plural': 'System Settings',
                'db_table': 'configuration_system_setting',
                'ordering': ['category', 'group', 'order', 'key'],
            },
        ),
    ]
