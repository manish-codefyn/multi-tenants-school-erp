# Generated by Django 4.2.7 on 2025-12-13 04:15

import django.core.validators
from django.db import migrations, models
import django.utils.timezone
import encrypted_model_fields.fields
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Guardian',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('relation', models.CharField(choices=[('FATHER', 'Father'), ('MOTHER', 'Mother'), ('GUARDIAN', 'Guardian'), ('GRANDFATHER', 'Grandfather'), ('GRANDMOTHER', 'Grandmother'), ('UNCLE', 'Uncle'), ('AUNT', 'Aunt'), ('BROTHER', 'Brother'), ('SISTER', 'Sister'), ('OTHER', 'Other')], max_length=20, verbose_name='Relation')),
                ('full_name', models.CharField(max_length=100, verbose_name='Full Name')),
                ('date_of_birth', models.DateField(blank=True, null=True, verbose_name='Date of Birth')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='Email Address')),
                ('phone_primary', models.CharField(max_length=17, validators=[django.core.validators.RegexValidator(message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.", regex='^\\+?1?\\d{9,15}$')], verbose_name='Primary Phone')),
                ('phone_secondary', models.CharField(blank=True, max_length=17, validators=[django.core.validators.RegexValidator(message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.", regex='^\\+?1?\\d{9,15}$')], verbose_name='Secondary Phone')),
                ('occupation', models.CharField(blank=True, choices=[('SERVICE', 'Service'), ('BUSINESS', 'Business'), ('GOVT', 'Government Job'), ('PRIVATE', 'Private Job'), ('RETIRED', 'Retired'), ('HOUSEWIFE', 'Housewife'), ('FARMER', 'Farmer'), ('TEACHER', 'Teacher'), ('DOCTOR', 'Doctor'), ('ENGINEER', 'Engineer'), ('STUDENT', 'Student'), ('UNEMPLOYED', 'Unemployed'), ('OTHER', 'Other')], max_length=20, verbose_name='Occupation')),
                ('qualification', models.CharField(blank=True, choices=[('BELOW_10TH', 'Below 10th'), ('10TH', '10th Pass'), ('12TH', '12th Pass'), ('DIPLOMA', 'Diploma'), ('GRADUATE', 'Graduate'), ('POST_GRADUATE', 'Post Graduate'), ('PHD', 'PhD'), ('OTHER', 'Other')], max_length=20, verbose_name='Educational Qualification')),
                ('company_name', models.CharField(blank=True, max_length=100, verbose_name='Company Name')),
                ('designation', models.CharField(blank=True, max_length=100, verbose_name='Designation')),
                ('annual_income', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Annual Income')),
                ('is_primary', models.BooleanField(default=False, verbose_name='Is Primary Guardian')),
                ('is_emergency_contact', models.BooleanField(default=False, verbose_name='Is Emergency Contact')),
                ('can_pickup', models.BooleanField(default=True, verbose_name='Can Pickup Student')),
                ('aadhaar_number', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, verbose_name='Aadhaar Number')),
                ('pan_number', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, verbose_name='PAN Number')),
            ],
            options={
                'verbose_name': 'Guardian',
                'verbose_name_plural': 'Guardians',
                'db_table': 'students_guardian',
            },
        ),
        migrations.CreateModel(
            name='Student',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('admission_number', models.CharField(db_index=True, max_length=50, unique=True, verbose_name='Admission Number')),
                ('roll_number', models.CharField(blank=True, db_index=True, max_length=50, verbose_name='Roll Number')),
                ('reg_no', models.CharField(blank=True, max_length=100, unique=True, verbose_name='Registration Number')),
                ('first_name', models.CharField(max_length=50, verbose_name='First Name')),
                ('middle_name', models.CharField(blank=True, max_length=50, verbose_name='Middle Name')),
                ('last_name', models.CharField(max_length=50, verbose_name='Last Name')),
                ('date_of_birth', models.DateField(verbose_name='Date of Birth')),
                ('place_of_birth', models.CharField(blank=True, max_length=100, verbose_name='Place of Birth')),
                ('gender', models.CharField(choices=[('M', 'Male'), ('F', 'Female'), ('O', 'Other'), ('U', 'Undisclosed')], max_length=1, verbose_name='Gender')),
                ('blood_group', models.CharField(blank=True, choices=[('A+', 'A+'), ('A-', 'A-'), ('B+', 'B+'), ('B-', 'B-'), ('AB+', 'AB+'), ('AB-', 'AB-'), ('O+', 'O+'), ('O-', 'O-')], max_length=3, verbose_name='Blood Group')),
                ('nationality', models.CharField(default='Indian', max_length=50, verbose_name='Nationality')),
                ('marital_status', models.CharField(choices=[('SINGLE', 'Single'), ('MARRIED', 'Married'), ('DIVORCED', 'Divorced'), ('WIDOWED', 'Widowed')], default='SINGLE', max_length=10, verbose_name='Marital Status')),
                ('personal_email', models.EmailField(db_index=True, max_length=254, unique=True, verbose_name='Personal Email')),
                ('institutional_email', models.EmailField(blank=True, max_length=254, verbose_name='Institutional Email')),
                ('mobile_primary', models.CharField(max_length=17, validators=[django.core.validators.RegexValidator(message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.", regex='^\\+?1?\\d{9,15}$')], verbose_name='Primary Mobile')),
                ('mobile_secondary', models.CharField(blank=True, max_length=17, validators=[django.core.validators.RegexValidator(message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.", regex='^\\+?1?\\d{9,15}$')], verbose_name='Secondary Mobile')),
                ('admission_type', models.CharField(choices=[('REGULAR', 'Regular'), ('TRANSFER', 'Transfer'), ('LATERAL', 'Lateral Entry'), ('DIPLOMA', 'Diploma Holder'), ('QUOTA', 'Quota Seat'), ('MANAGEMENT', 'Management Quota')], default='REGULAR', max_length=20, verbose_name='Admission Type')),
                ('enrollment_date', models.DateField(default=django.utils.timezone.now, verbose_name='Enrollment Date')),
                ('category', models.CharField(choices=[('GENERAL', 'General'), ('SC', 'Scheduled Caste'), ('ST', 'Scheduled Tribe'), ('OBC', 'Other Backward Class'), ('EWS', 'Economically Weaker Section'), ('OTHER', 'Other')], default='GENERAL', max_length=50, verbose_name='Category')),
                ('religion', models.CharField(blank=True, choices=[('HINDU', 'Hindu'), ('MUSLIM', 'Muslim'), ('CHRISTIAN', 'Christian'), ('SIKH', 'Sikh'), ('BUDDHIST', 'Buddhist'), ('JAIN', 'Jain'), ('PARSI', 'Parsi'), ('JEWISH', 'Jewish'), ('OTHER', 'Other'), ('NOT_SAY', 'Prefer not to say')], max_length=20, verbose_name='Religion')),
                ('is_minority', models.BooleanField(default=False, verbose_name='Belongs to Minority')),
                ('is_physically_challenged', models.BooleanField(default=False, verbose_name='Physically Challenged')),
                ('annual_family_income', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Annual Family Income')),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('INACTIVE', 'Inactive'), ('ALUMNI', 'Alumni'), ('SUSPENDED', 'Suspended'), ('WITHDRAWN', 'Withdrawn'), ('GRADUATED', 'Graduated'), ('TRANSFERRED', 'Transferred')], db_index=True, default='ACTIVE', max_length=20, verbose_name='Status')),
                ('status_changed_date', models.DateTimeField(blank=True, null=True, verbose_name='Status Changed Date')),
                ('passing_year', models.DateTimeField(blank=True, null=True, verbose_name='Passing Year')),
                ('tc_issue_date', models.DateField(blank=True, null=True, verbose_name='TC Issue Date')),
                ('current_semester', models.PositiveIntegerField(default=1, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)], verbose_name='Current Semester')),
                ('total_credits_earned', models.DecimalField(decimal_places=2, default=0.0, max_digits=6, verbose_name='Total Credits Earned')),
                ('cumulative_grade_point', models.DecimalField(decimal_places=2, default=0.0, max_digits=4, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='CGPA')),
                ('fee_category', models.CharField(choices=[('REGULAR', 'Regular'), ('CONCESSION', 'Concession'), ('SCHOLARSHIP', 'Scholarship'), ('FREE', 'Free')], default='REGULAR', max_length=20, verbose_name='Fee Category')),
                ('scholarship_type', models.CharField(blank=True, max_length=50, verbose_name='Scholarship Type')),
            ],
            options={
                'verbose_name': 'Student',
                'verbose_name_plural': 'Students',
                'db_table': 'students_student',
                'ordering': ['first_name', 'last_name'],
                'permissions': [('view_student_dashboard', 'Can view student dashboard'), ('export_student_data', 'Can export student data'), ('bulk_update_students', 'Can bulk update students')],
            },
        ),
        migrations.CreateModel(
            name='StudentAcademicHistory',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('roll_number', models.CharField(max_length=20, verbose_name='Roll Number')),
                ('overall_grade', models.CharField(blank=True, max_length=10, verbose_name='Overall Grade')),
                ('percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Percentage')),
                ('result', models.CharField(choices=[('PASS', 'Pass'), ('FAIL', 'Fail'), ('COMPARTMENT', 'Compartment'), ('APPEARING', 'Appearing')], default='APPEARING', max_length=20, verbose_name='Result')),
                ('remarks', models.TextField(blank=True, verbose_name='Remarks')),
            ],
            options={
                'verbose_name': 'Academic History',
                'verbose_name_plural': 'Academic History',
                'db_table': 'students_academic_history',
                'ordering': ['class_name__order', 'academic_year'],
            },
        ),
        migrations.CreateModel(
            name='StudentAddress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('address_type', models.CharField(choices=[('PERMANENT', 'Permanent'), ('CORRESPONDENCE', 'Correspondence'), ('LOCAL_GUARDIAN', 'Local Guardian'), ('HOSTEL', 'Hostel')], default='PERMANENT', max_length=20, verbose_name='Address Type')),
                ('address_line1', models.CharField(max_length=255, verbose_name='Address Line 1')),
                ('address_line2', models.CharField(blank=True, max_length=255, verbose_name='Address Line 2')),
                ('landmark', models.CharField(blank=True, max_length=100, verbose_name='Landmark')),
                ('city', models.CharField(max_length=100, verbose_name='City')),
                ('state', models.CharField(max_length=100, verbose_name='State')),
                ('pincode', models.CharField(max_length=10, verbose_name='Pincode')),
                ('country', models.CharField(default='India', max_length=100, verbose_name='Country')),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, verbose_name='Latitude')),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, verbose_name='Longitude')),
                ('is_current', models.BooleanField(default=True, verbose_name='Is Current Address')),
                ('is_verified', models.BooleanField(default=False, verbose_name='Is Verified')),
            ],
            options={
                'verbose_name': 'Student Address',
                'verbose_name_plural': 'Student Addresses',
                'db_table': 'students_address',
            },
        ),
        migrations.CreateModel(
            name='StudentDocument',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('doc_type', models.CharField(choices=[('PHOTO', 'Photograph'), ('BIRTH_CERTIFICATE', 'Birth Certificate'), ('AADHAAR', 'Aadhaar Card'), ('PAN_CARD', 'PAN Card'), ('PASSPORT', 'Passport'), ('VOTER_ID', 'Voter ID'), ('DRIVING_LICENSE', 'Driving License'), ('PREVIOUS_MARKSHEET', 'Previous Marksheet'), ('TRANSFER_CERTIFICATE', 'Transfer Certificate'), ('MEDICAL_CERTIFICATE', 'Medical Certificate'), ('CASTE_CERTIFICATE', 'Caste Certificate'), ('INCOME_CERTIFICATE', 'Income Certificate'), ('DISABILITY_CERTIFICATE', 'Disability Certificate'), ('MIGRATION_CERTIFICATE', 'Migration Certificate'), ('CHARACTER_CERTIFICATE', 'Character Certificate'), ('SCHOLARSHIP_DOCUMENT', 'Scholarship Document'), ('OTHER', 'Other')], max_length=50, verbose_name='Document Type')),
                ('file', models.FileField(upload_to='documents/', verbose_name='Document File')),
                ('file_name', models.CharField(blank=True, max_length=255, verbose_name='Original File Name')),
                ('file_size', models.PositiveIntegerField(default=0, verbose_name='File Size (bytes)')),
                ('file_hash', models.CharField(blank=True, max_length=128, verbose_name='File Hash')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('issue_date', models.DateField(blank=True, null=True, verbose_name='Issue Date')),
                ('expiry_date', models.DateField(blank=True, null=True, verbose_name='Expiry Date')),
                ('issuing_authority', models.CharField(blank=True, max_length=200, verbose_name='Issuing Authority')),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('EXPIRED', 'Expired')], default='PENDING', max_length=20, verbose_name='Status')),
                ('is_verified', models.BooleanField(default=False, verbose_name='Is Verified')),
                ('verified_at', models.DateTimeField(blank=True, null=True, verbose_name='Verified At')),
                ('rejection_reason', models.TextField(blank=True, verbose_name='Rejection Reason')),
                ('version', models.PositiveIntegerField(default=1, verbose_name='Version')),
                ('is_current', models.BooleanField(default=True, verbose_name='Is Current Version')),
            ],
            options={
                'verbose_name': 'Student Document',
                'verbose_name_plural': 'Student Documents',
                'db_table': 'students_documents',
            },
        ),
        migrations.CreateModel(
            name='StudentIdentification',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('aadhaar_number', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, unique=True, validators=[django.core.validators.RegexValidator(message='Aadhaar number must be 12 digits', regex='^\\d{12}$')], verbose_name='Aadhaar Number')),
                ('pan_number', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, unique=True, validators=[django.core.validators.RegexValidator(message='Invalid PAN format', regex='^[A-Z]{5}[0-9]{4}[A-Z]{1}$')], verbose_name='PAN Number')),
                ('passport_number', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, unique=True, verbose_name='Passport Number')),
                ('driving_license', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, unique=True, verbose_name='Driving License Number')),
                ('voter_id', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, unique=True, verbose_name='Voter ID Number')),
                ('abc_id', models.CharField(blank=True, max_length=20, null=True, unique=True, verbose_name='ABC ID')),
                ('shiksha_id', models.CharField(blank=True, max_length=20, null=True, unique=True, verbose_name='Shiksha ID')),
                ('udise_id', models.CharField(blank=True, max_length=20, null=True, unique=True, verbose_name='UDISE ID')),
                ('bank_account_number', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, verbose_name='Bank Account Number')),
                ('bank_name', models.CharField(blank=True, max_length=100, verbose_name='Bank Name')),
                ('bank_branch', models.CharField(blank=True, max_length=100, verbose_name='Bank Branch')),
                ('ifsc_code', models.CharField(blank=True, max_length=11, validators=[django.core.validators.RegexValidator(message='Invalid IFSC code', regex='^[A-Z]{4}0[A-Z0-9]{6}$')], verbose_name='IFSC Code')),
                ('aadhaar_verified', models.BooleanField(default=False, verbose_name='Aadhaar Verified')),
                ('pan_verified', models.BooleanField(default=False, verbose_name='PAN Verified')),
                ('passport_verified', models.BooleanField(default=False, verbose_name='Passport Verified')),
                ('social_security_number', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, verbose_name='Social Security Number')),
                ('national_insurance_number', encrypted_model_fields.fields.EncryptedCharField(blank=True, null=True, verbose_name='National Insurance Number')),
            ],
            options={
                'verbose_name': 'Student Identification',
                'verbose_name_plural': 'Student Identifications',
                'db_table': 'students_identification',
            },
        ),
        migrations.CreateModel(
            name='StudentMedicalInfo',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False, unique=True, verbose_name='Universal ID')),
                ('data_signature', models.CharField(blank=True, editable=False, max_length=64, verbose_name='Data Integrity Signature')),
                ('encryption_version', models.CharField(default='v1', editable=False, max_length=10, verbose_name='Encryption Scheme Version')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Creation Timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Last Modification Timestamp')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False indicates the record has been soft deleted', verbose_name='Active Status')),
                ('deleted_at', models.DateTimeField(blank=True, db_index=True, null=True, verbose_name='Deletion Timestamp')),
                ('deletion_reason', models.TextField(blank=True, help_text='Mandatory for compliance: Reason for record deletion', null=True, verbose_name='Deletion Justification')),
                ('deletion_category', models.CharField(blank=True, choices=[('USER_REQUEST', 'User Request'), ('ADMIN_ACTION', 'Administrative Action'), ('SYSTEM_CLEANUP', 'System Cleanup'), ('COMPLIANCE', 'Compliance Requirement'), ('OTHER', 'Other')], max_length=50, null=True, verbose_name='Deletion Category')),
                ('request_count', models.PositiveIntegerField(default=0, verbose_name='API Request Count')),
                ('last_request_at', models.DateTimeField(blank=True, null=True, verbose_name='Last API Request')),
                ('rate_limit_key', models.CharField(blank=True, editable=False, max_length=100, verbose_name='Rate Limit Identifier')),
                ('blood_group', models.CharField(blank=True, choices=[('A+', 'A+'), ('A-', 'A-'), ('B+', 'B+'), ('B-', 'B-'), ('AB+', 'AB+'), ('AB-', 'AB-'), ('O+', 'O+'), ('O-', 'O-')], max_length=3, verbose_name='Blood Group')),
                ('height_cm', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Height (cm)')),
                ('weight_kg', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Weight (kg)')),
                ('bmi', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='BMI')),
                ('known_allergies', models.TextField(blank=True, help_text='List any known allergies (food, medication, environmental)', verbose_name='Known Allergies')),
                ('chronic_conditions', models.TextField(blank=True, help_text='List any chronic medical conditions (asthma, diabetes, etc.)', verbose_name='Chronic Medical Conditions')),
                ('current_medications', models.TextField(blank=True, help_text='List any current medications with dosage', verbose_name='Current Medications')),
                ('dietary_restrictions', models.TextField(blank=True, help_text='List any dietary restrictions or preferences', verbose_name='Dietary Restrictions')),
                ('has_disability', models.BooleanField(default=False, verbose_name='Has Disability')),
                ('disability_type', models.CharField(blank=True, max_length=100, verbose_name='Disability Type')),
                ('disability_percentage', models.PositiveIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(100)], verbose_name='Disability Percentage')),
                ('disability_certificate_number', models.CharField(blank=True, max_length=100, verbose_name='Disability Certificate Number')),
                ('vaccination_records', models.JSONField(blank=True, default=dict, verbose_name='Vaccination Records')),
                ('emergency_contact_name', models.CharField(blank=True, max_length=100, verbose_name='Emergency Contact Name')),
                ('emergency_contact_relation', models.CharField(blank=True, max_length=50, verbose_name='Emergency Contact Relation')),
                ('emergency_contact_phone', models.CharField(blank=True, max_length=17, validators=[django.core.validators.RegexValidator(message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.", regex='^\\+?1?\\d{9,15}$')], verbose_name='Emergency Contact Phone')),
                ('emergency_contact_alt_phone', models.CharField(blank=True, max_length=17, validators=[django.core.validators.RegexValidator(message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.", regex='^\\+?1?\\d{9,15}$')], verbose_name='Alternative Emergency Phone')),
                ('has_medical_insurance', models.BooleanField(default=False, verbose_name='Has Medical Insurance')),
                ('insurance_provider', models.CharField(blank=True, max_length=100, verbose_name='Insurance Provider')),
                ('insurance_policy_number', models.CharField(blank=True, max_length=100, verbose_name='Insurance Policy Number')),
                ('insurance_valid_until', models.DateField(blank=True, null=True, verbose_name='Insurance Valid Until')),
                ('special_instructions', models.TextField(blank=True, help_text='Any special instructions for medical emergencies', verbose_name='Special Medical Instructions')),
                ('last_medical_checkup', models.DateField(blank=True, null=True, verbose_name='Last Medical Checkup Date')),
            ],
            options={
                'verbose_name': 'Medical Information',
                'verbose_name_plural': 'Medical Information',
                'db_table': 'students_medical_info',
            },
        ),
    ]
