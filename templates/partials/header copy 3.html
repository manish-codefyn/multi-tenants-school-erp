
{% load static %}
<header>
    <div class="topbar d-flex align-items-center">
        <nav class="navbar navbar-expand gap-3">
            <div class="mobile-toggle-menu"><i class='bx bx-menu'></i></div>

            <!-- Search Bar -->
            <div class="position-relative search-bar d-lg-block d-none" data-bs-toggle="modal" data-bs-target="#SearchModal">
                <input class="form-control px-5" disabled type="search" placeholder="Search">
                <span class="position-absolute top-50 search-show ms-3 translate-middle-y start-0 top-50 fs-5"><i class='bx bx-search'></i></span>
            </div>

            <!-- Tenant Logo/Name in Header (Mobile) -->
            <div class="d-lg-none d-flex align-items-center ms-2">
                {% if tenant_logo %}
                <img src="{{ tenant_logo.url }}" width="32" height="32" alt="{{ tenant_name }}" class="rounded-circle">
                {% endif %}
                <span class="ms-2 fw-bold text-dark d-none d-sm-inline">{{ tenant_name }}</span>
            </div>

            <div class="top-menu ms-auto">
                <ul class="navbar-nav align-items-center gap-1">
                    <!-- Mobile Search -->
                    <li class="nav-item mobile-search-icon d-flex d-lg-none" data-bs-toggle="modal" data-bs-target="#SearchModal">
                        <a class="nav-link" href="javascript:void(0);"><i class='bx bx-search'></i></a>
                    </li>

                    <!-- Language Selector -->
                    {% if enabled_features.multilingual_support %}
                    <li class="nav-item dropdown dropdown-laungauge d-none d-sm-flex">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="javascript:void(0);" data-bs-toggle="dropdown">
                            <img src="{% static 'assets/images/county/02.png' %}" width="22" alt="">
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item d-flex align-items-center py-2" href="javascript:void(0);"><img src="{% static 'assets/images/county/01.png' %}" width="20" alt=""><span class="ms-2">English</span></a></li>
                            <li><a class="dropdown-item d-flex align-items-center py-2" href="javascript:void(0);"><img src="{% static 'assets/images/county/02.png' %}" width="20" alt=""><span class="ms-2">Catalan</span></a></li>
                        </ul>
                    </li>
                    {% endif %}

                    <!-- Dark Mode Toggle -->
              
                    <li class="nav-item dark-mode d-none d-sm-flex">
                        <a class="nav-link dark-mode-icon" href="javascript:void(0);"><i class='bx bx-moon'></i></a>
                    </li>
                    <!-- Apps Dropdown -->
                    {% if 'apps' in enabled_modules %}
                    <li class="nav-item dropdown dropdown-app">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" data-bs-toggle="dropdown" href="javascript:void(0);">
                            <i class='bx bx-grid-alt'></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end p-0">
                            <div class="app-container p-2 my-2">
                                <div class="row gx-0 gy-2 row-cols-3 justify-content-center p-2">
                                    {% if enabled_features.online_classes %}
                                    <div class="col">
                                        <a href="{% url 'online_classes' %}">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/video-call.png' %}" width="30" alt="Online Classes">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Classes</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    {% endif %}

                                    {% if enabled_features.library_management %}
                                    <div class="col">
                                        <a href="{% url 'library' %}">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/library.png' %}" width="30" alt="Library">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Library</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    {% endif %}

                                    {% if enabled_features.fee_management %}
                                    <div class="col">
                                        <a href="{% url 'fee_management' %}">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/payment.png' %}" width="30" alt="Fees">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Fees</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    {% endif %}

                                    <!-- Default Apps -->
                                    <div class="col">
                                        <a href="javascript:void(0);">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/google-drive.png' %}" width="30" alt="Drive">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Drive</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="javascript:void(0);">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/calendar.png' %}" width="30" alt="Calendar">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Calendar</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    {% endif %}

                    <!-- Notifications -->
                    <li class="nav-item dropdown dropdown-large">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret position-relative" href="#" data-bs-toggle="dropdown">
                            <span class="alert-count">7</span>
                            <i class='bx bx-bell'></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a href="javascript:void(0);">
                                <div class="msg-header">
                                    <p class="msg-header-title">Notifications</p>
                                    <p class="msg-header-badge">8 New</p>
                                </div>
                            </a>
                            <div class="header-notifications-list">
                                <!-- Sample notification - you can make these dynamic -->
                                <a class="dropdown-item" href="javascript:void(0);">
                                    <div class="d-flex align-items-center">
                                        <div class="user-online">
                                            <img src="{% static 'assets/images/avatars/avatar-1.png' %}" class="msg-avatar" alt="user avatar">
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 class="msg-name">New Message<span class="msg-time float-end">5 sec ago</span></h6>
                                            <p class="msg-info">You have a new message</p>
                                        </div>
                                    </div>
                                </a>
                                <!-- Add more notifications here -->
                            </div>
                            <a href="javascript:void(0);">
                                <div class="text-center msg-footer">
                                    <button class="btn btn-primary w-100">View All Notifications</button>
                                </div>
                            </a>
                        </div>
                    </li>

                    <!-- Cart/Store (if enabled) -->
                    {% if 'store' in enabled_modules %}
                    <li class="nav-item dropdown dropdown-large">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret position-relative" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="alert-count">3</span>
                            <i class='bx bx-shopping-bag'></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a href="javascript:void(0);">
                                <div class="msg-header">
                                    <p class="msg-header-title">My Cart</p>
                                    <p class="msg-header-badge">3 Items</p>
                                </div>
                            </a>
                            <div class="header-message-list">
                                <!-- Cart items would go here -->
                            </div>
                            <a href="javascript:void(0);">
                                <div class="text-center msg-footer">
                                    <div class="d-flex align-items-center justify-content-between mb-3">
                                        <h5 class="mb-0">Total</h5>
                                        <h5 class="mb-0 ms-auto">$0.00</h5>
                                    </div>
                                    <button class="btn btn-primary w-100">Checkout</button>
                                </div>
                            </a>
                        </div>
                    </li>
                    {% endif %}
                </ul>
            </div>

            <!-- User Profile -->
            <div class="user-box dropdown px-3">
                <a class="d-flex align-items-center nav-link dropdown-toggle gap-3 dropdown-toggle-nocaret" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    {% if tenant_logo %}
                    <img src="{{ tenant_logo.url }}" class="user-img" alt="{{ tenant_name }}">
                    {% else %}
                    <img src="{% static 'assets/images/avatars/avatar-2.png' %}" class="user-img" alt="user avatar">
                    {% endif %}
                    <div class="user-info">
                        <p class="user-name mb-0">
                            {% if request.user.get_full_name %}
                                {{ request.user.get_full_name }}
                            {% else %}
                                {{ request.user.username }}
                            {% endif %}
                        </p>
                        <p class="designattion mb-0">
                            {% if tenant_name %}{{ tenant_name }}{% else %}User{% endif %}
                        </p>
                    </div>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item d-flex align-items-center" href="{% url 'profile' %}"><i class="bx bx-user fs-5"></i><span>Profile</span></a></li>
                    <li><a class="dropdown-item d-flex align-items-center" href="{% url 'profile_settings' %}"><i class="bx bx-cog fs-5"></i><span>Settings</span></a></li>
                    <li><a class="dropdown-item d-flex align-items-center" href="{% url 'dashboard_redirect' %}"><i class="bx bx-home-circle fs-5"></i><span>Dashboard</span></a></li>
                    
                    {% if enabled_features.online_payments %}
                    <li><a class="dropdown-item d-flex align-items-center" href="{% url 'earnings' %}"><i class="bx bx-dollar-circle fs-5"></i><span>Earnings</span></a></li>
                    {% endif %}
                    
                    <li><a class="dropdown-item d-flex align-items-center" href=""><i class="bx bx-download fs-5"></i><span>Downloads</span></a></li>
                    <li>
                        <div class="dropdown-divider mb-0"></div>
                    </li>
                    <li>
                        <a class="dropdown-item d-flex align-items-center" href="{% url 'logout' %}">
                            <i class="bx bx-log-out-circle"></i><span>Logout</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>
{% load static %}
<header>
    <div class="topbar d-flex align-items-center">
        <nav class="navbar navbar-expand gap-3">
            <div class="mobile-toggle-menu"><i class='bx bx-menu'></i></div>

            <!-- Search Bar -->
            <div class="position-relative search-bar d-lg-block d-none" data-bs-toggle="modal" data-bs-target="#SearchModal">
                <input class="form-control px-5" disabled type="search" placeholder="Search">
                <span class="position-absolute top-50 search-show ms-3 translate-middle-y start-0 top-50 fs-5"><i class='bx bx-search'></i></span>
            </div>

            <!-- Tenant Logo/Name in Header (Mobile) -->
            <div class="d-lg-none d-flex align-items-center ms-2">
                {% if tenant_logo %}
                <img src="{{ tenant_logo.url }}" width="32" height="32" alt="{{ tenant_name }}" class="rounded-circle">
                {% endif %}
                <span class="ms-2 fw-bold text-dark d-none d-sm-inline">{{ tenant_name }}</span>
            </div>

            <div class="top-menu ms-auto">
                <ul class="navbar-nav align-items-center gap-1">
                    <!-- Mobile Search -->
                    <li class="nav-item mobile-search-icon d-flex d-lg-none" data-bs-toggle="modal" data-bs-target="#SearchModal">
                        <a class="nav-link" href="javascript:void(0);"><i class='bx bx-search'></i></a>
                    </li>

                    <!-- Language Selector -->
                    {% if enabled_features.multilingual_support %}
                    <li class="nav-item dropdown dropdown-laungauge d-none d-sm-flex">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="javascript:void(0);" data-bs-toggle="dropdown">
                            <img src="{% static 'assets/images/county/02.png' %}" width="22" alt="">
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item d-flex align-items-center py-2" href="javascript:void(0);"><img src="{% static 'assets/images/county/01.png' %}" width="20" alt=""><span class="ms-2">English</span></a></li>
                            <li><a class="dropdown-item d-flex align-items-center py-2" href="javascript:void(0);"><img src="{% static 'assets/images/county/02.png' %}" width="20" alt=""><span class="ms-2">Catalan</span></a></li>
                        </ul>
                    </li>
                    {% endif %}

                    <!-- Dark Mode Toggle -->
              
                    <li class="nav-item dark-mode d-none d-sm-flex">
                        <a class="nav-link dark-mode-icon" href="javascript:void(0);"><i class='bx bx-moon'></i></a>
                    </li>
                    <!-- Apps Dropdown -->
                    {% if 'apps' in enabled_modules %}
                    <li class="nav-item dropdown dropdown-app">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" data-bs-toggle="dropdown" href="javascript:void(0);">
                            <i class='bx bx-grid-alt'></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end p-0">
                            <div class="app-container p-2 my-2">
                                <div class="row gx-0 gy-2 row-cols-3 justify-content-center p-2">
                                    {% if enabled_features.online_classes %}
                                    <div class="col">
                                        <a href="{% url 'online_classes' %}">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/video-call.png' %}" width="30" alt="Online Classes">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Classes</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    {% endif %}

                                    {% if enabled_features.library_management %}
                                    <div class="col">
                                        <a href="{% url 'library' %}">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/library.png' %}" width="30" alt="Library">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Library</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    {% endif %}

                                    {% if enabled_features.fee_management %}
                                    <div class="col">
                                        <a href="{% url 'fee_management' %}">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/payment.png' %}" width="30" alt="Fees">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Fees</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    {% endif %}

                                    <!-- Default Apps -->
                                    <div class="col">
                                        <a href="javascript:void(0);">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/google-drive.png' %}" width="30" alt="Drive">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Drive</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="javascript:void(0);">
                                            <div class="app-box text-center">
                                                <div class="app-icon">
                                                    <img src="{% static 'assets/images/app/calendar.png' %}" width="30" alt="Calendar">
                                                </div>
                                                <div class="app-name">
                                                    <p class="mb-0 mt-1">Calendar</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    {% endif %}

                    <!-- Notifications -->
                    <li class="nav-item dropdown dropdown-large">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret position-relative" href="#" data-bs-toggle="dropdown">
                            <span class="alert-count">7</span>
                            <i class='bx bx-bell'></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a href="javascript:void(0);">
                                <div class="msg-header">
                                    <p class="msg-header-title">Notifications</p>
                                    <p class="msg-header-badge">8 New</p>
                                </div>
                            </a>
                            <div class="header-notifications-list">
                                <!-- Sample notification - you can make these dynamic -->
                                <a class="dropdown-item" href="javascript:void(0);">
                                    <div class="d-flex align-items-center">
                                        <div class="user-online">
                                            <img src="{% static 'assets/images/avatars/avatar-1.png' %}" class="msg-avatar" alt="user avatar">
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 class="msg-name">New Message<span class="msg-time float-end">5 sec ago</span></h6>
                                            <p class="msg-info">You have a new message</p>
                                        </div>
                                    </div>
                                </a>
                                <!-- Add more notifications here -->
                            </div>
                            <a href="javascript:void(0);">
                                <div class="text-center msg-footer">
                                    <button class="btn btn-primary w-100">View All Notifications</button>
                                </div>
                            </a>
                        </div>
                    </li>

                    <!-- Cart/Store (if enabled) -->
                    {% if 'store' in enabled_modules %}
                    <li class="nav-item dropdown dropdown-large">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret position-relative" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="alert-count">3</span>
                            <i class='bx bx-shopping-bag'></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a href="javascript:void(0);">
                                <div class="msg-header">
                                    <p class="msg-header-title">My Cart</p>
                                    <p class="msg-header-badge">3 Items</p>
                                </div>
                            </a>
                            <div class="header-message-list">
                                <!-- Cart items would go here -->
                            </div>
                            <a href="javascript:void(0);">
                                <div class="text-center msg-footer">
                                    <div class="d-flex align-items-center justify-content-between mb-3">
                                        <h5 class="mb-0">Total</h5>
                                        <h5 class="mb-0 ms-auto">$0.00</h5>
                                    </div>
                                    <button class="btn btn-primary w-100">Checkout</button>
                                </div>
                            </a>
                        </div>
                    </li>
                    {% endif %}
                </ul>
            </div>

            <!-- User Profile -->
            <div class="user-box dropdown px-3">
                <a class="d-flex align-items-center nav-link dropdown-toggle gap-3 dropdown-toggle-nocaret" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    {% if tenant_logo %}
                    <img src="{{ tenant_logo.url }}" class="user-img" alt="{{ tenant_name }}">
                    {% else %}
                    <img src="{% static 'assets/images/avatars/avatar-2.png' %}" class="user-img" alt="user avatar">
                    {% endif %}
                    <div class="user-info">
                        <p class="user-name mb-0">
                            {% if request.user.get_full_name %}
                                {{ request.user.get_full_name }}
                            {% else %}
                                {{ request.user.username }}
                            {% endif %}
                        </p>
                        <p class="designattion mb-0">
                            {% if tenant_name %}{{ tenant_name }}{% else %}User{% endif %}
                        </p>
                    </div>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item d-flex align-items-center" href="{% url 'profile' %}"><i class="bx bx-user fs-5"></i><span>Profile</span></a></li>
                    <li><a class="dropdown-item d-flex align-items-center" href="{% url 'profile_settings' %}"><i class="bx bx-cog fs-5"></i><span>Settings</span></a></li>
                    <li><a class="dropdown-item d-flex align-items-center" href="{% url 'dashboard_redirect' %}"><i class="bx bx-home-circle fs-5"></i><span>Dashboard</span></a></li>
                    
                    {% if enabled_features.online_payments %}
                    <li><a class="dropdown-item d-flex align-items-center" href="{% url 'earnings' %}"><i class="bx bx-dollar-circle fs-5"></i><span>Earnings</span></a></li>
                    {% endif %}
                    
                    <li><a class="dropdown-item d-flex align-items-center" href=""><i class="bx bx-download fs-5"></i><span>Downloads</span></a></li>
                    <li>
                        <div class="dropdown-divider mb-0"></div>
                    </li>
                    <li>
                        <a class="dropdown-item d-flex align-items-center" href="{% url 'logout' %}">
                            <i class="bx bx-log-out-circle"></i><span>Logout</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>