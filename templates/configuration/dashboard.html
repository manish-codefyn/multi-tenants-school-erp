{% extends 'layouts/dashboard.html' %}
{% load static %}

{% block title %}Configuration Dashboard - EduERP{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h4 class="mb-4">System Configuration</h4>
    </div>
</div>

<!-- Configuration Cards -->
<div class="row row-cols-1 row-cols-md-2 row-cols-xl-4">
    <div class="col">
        <div class="card radius-10">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="me-auto">
                        <p class="mb-0">System Settings</p>
                        <h4 class="my-1">{{ total_settings|default:"0" }}</h4>
                    </div>
                    <div class="fs-1 text-primary">
                        <i class="bx bx-cog"></i>
                    </div>
                </div>
                <div class="mt-3">
                    <a href="{% url 'configuration:setting_list' %}" class="btn btn-sm btn-outline-primary w-100">Manage Settings</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col">
        <div class="card radius-10">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="me-auto">
                        <p class="mb-0">Financial Config</p>
                        <h4 class="my-1">{{ financial_config.base_currency|default:"Not Set" }}</h4>
                    </div>
                    <div class="fs-1 text-success">
                        <i class="bx bx-dollar-circle"></i>
                    </div>
                </div>
                <div class="mt-3">
                    <a href="{% url 'configuration:financial_config' %}" class="btn btn-sm btn-outline-success w-100">Configure</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col">
        <div class="card radius-10">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="me-auto">
                        <p class="mb-0">Security</p>
                        <h4 class="my-1">{% if security_config.require_2fa %}2FA On{% else %}2FA Off{% endif %}</h4>
                    </div>
                    <div class="fs-1 text-danger">
                        <i class="bx bx-shield"></i>
                    </div>
                </div>
                <div class="mt-3">
                    <a href="{% url 'configuration:security_config' %}" class="btn btn-sm btn-outline-danger w-100">Configure</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col">
        <div class="card radius-10">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="me-auto">
                        <p class="mb-0">Notifications</p>
                        <h4 class="my-1">{% if notification_config.email_enabled %}Email On{% else %}Email Off{% endif %}</h4>
                    </div>
                    <div class="fs-1 text-warning">
                        <i class="bx bx-bell"></i>
                    </div>
                </div>
                <div class="mt-3">
                    <a href="{% url 'configuration:notification_config' %}" class="btn btn-sm btn-outline-warning w-100">Configure</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Configuration Modules -->
<div class="row mt-4">
    <div class="col-12 col-lg-6">
        <div class="card radius-10">
            <div class="card-header bg-transparent">
                <h6 class="mb-0">Configuration Modules</h6>
            </div>
            <div class="card-body">
                <div class="list-group list-group-flush">
                    <a href="{% url 'configuration:financial_config' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <i class="bx bx-dollar-circle text-success me-2"></i>
                            Financial Configuration
                        </div>
                        <i class="bx bx-chevron-right"></i>
                    </a>
                    <a href="{% url 'configuration:security_config' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <i class="bx bx-shield text-danger me-2"></i>
                            Security Configuration
                        </div>
                        <i class="bx bx-chevron-right"></i>
                    </a>
                    <a href="{% url 'configuration:notification_config' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <i class="bx bx-bell text-warning me-2"></i>
                            Notification Configuration
                        </div>
                        <i class="bx bx-chevron-right"></i>
                    </a>
                    <a href="{% url 'configuration:appearance_config' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <i class="bx bx-palette text-info me-2"></i>
                            Appearance Configuration
                        </div>
                        <i class="bx bx-chevron-right"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-12 col-lg-6">
        <div class="card radius-10">
            <div class="card-header bg-transparent">
                <h6 class="mb-0">Quick Actions</h6>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <a href="{% url 'configuration:setting_create' %}" class="btn btn-primary">
                        <i class="bx bx-plus-circle me-2"></i>Add New Setting
                    </a>
                    <a href="{% url 'configuration:setting_list' %}" class="btn btn-outline-primary">
                        <i class="bx bx-list-ul me-2"></i>View All Settings
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
