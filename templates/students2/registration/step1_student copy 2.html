{% extends 'layouts/dashboard.html' %}
{% load i18n crispy_forms_tags %}

{% block title %}{% trans "Register New Student - Step 1" %}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-xl-10 col-lg-11">
        <!-- Stepper Partial -->
        {% include 'students/partials/registration_stepper.html' with step=1 %}

        <div class="card border-0 shadow-lg rounded-3 overflow-hidden">
            <div class="card-header bg-primary text-white py-3">
                <h5 class="card-title mb-0 fw-bold"><i class="fas fa-user-graduate me-2"></i>{% trans "Student Basic Information" %}</h5>
            </div>
            <div class="card-body p-4 p-md-5">
                <form method="post" enctype="multipart/form-data" novalidate>
                    {% csrf_token %}
                    
                    <!-- Section: Personal Details -->
                    <h6 class="text-primary fw-bold mb-3 text-uppercase small ls-1"><i class="fas fa-id-card me-2"></i>{% trans "Personal Details" %}</h6>
                    <div class="row g-3 mb-4">
                       
                      
                    </div>

                    <hr class="text-muted opacity-25 my-4">

                    <!-- Section: Contact Information -->
                   

                  
                    <!-- Hidden or non-layout fields -->
                    {% for field in form %}
                      
                             {{ field|as_crispy_field }}
                    
                    {% endfor %}

                    
                    <div class="d-flex justify-content-end mt-5 pt-3 border-top">
                        <a href="{% url 'students:student_list' %}" class="btn btn-light btn-lg me-3 px-4">{% trans "Cancel" %}</a>
                        <button type="submit" class="btn btn-primary btn-lg px-5 shadow-sm">
                            {% trans "Next: Guardian Details" %} <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    .ls-1 { letter-spacing: 1px; }
    .form-control:focus, .form-select:focus {
        border-color: var(--bs-primary);
        box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.15);
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');
        form.addEventListener('submit', function(event) {
            if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
            }
            form.classList.add('was-validated');
        }, false);
    });
</script>
{% endblock %}
