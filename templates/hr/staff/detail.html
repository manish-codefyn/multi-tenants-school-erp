{% extends 'layouts/dashboard.html' %}
{% load i18n crispy_forms_tags humanize %}

{% block title %}{{ staff.full_name }} - {% trans "Staff Profile" %}{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Header Profile Section -->
    <div class="card border-0 shadow-sm mb-4 position-relative overflow-hidden">
        <div class="card-body p-4">
            <div class="d-flex justify-content-between align-items-start">
                <div class="d-flex align-items-center">
                    <div class="position-relative me-4">
                        {% if staff.profile_image %}
                            <img src="{{ staff.profile_image.url }}" class="rounded-circle shadow-sm border border-3 border-white" width="100" height="100" alt="{{ staff.full_name }}" style="object-fit: cover;">
                        {% else %}
                            <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center shadow-sm border border-3 border-white" style="width: 100px; height: 100px; font-size: 2.5rem;">
                                {{ staff.initials }}
                            </div>
                        {% endif %}
                        <span class="position-absolute bottom-0 end-0 p-2 border border-2 border-white rounded-circle {% if staff.employment_status == 'ACTIVE' %}bg-success{% else %}bg-secondary{% endif %}"></span>
                    </div>
                    <div>
                        <h1 class="h3 mb-1 text-gray-800 fw-bold">{{ staff.full_name }}</h1>
                        <p class="text-muted mb-2">{{ staff.designation.title|default:"Designation Not Set" }} <span class="mx-2">â€¢</span> {{ staff.department.name|default:"No Department" }}</p>
                        <div class="d-flex align-items-center gap-3 text-sm text-muted">
                            <span class="badge bg-light text-dark border"><i class="bx bx-id-card me-1"></i> {{ staff.employee_id }}</span>
                            <span><i class="bx bx-map me-1"></i> {{ staff.work_location|default:"Main Campus" }}</span>
                            <span><i class="bx bx-envelope me-1"></i> {{ staff.user.email }}</span>
                        </div>
                    </div>
                </div>
                <div class="d-flex gap-2">
                    <a href="{% url 'hr:staff_update' staff.pk %}" class="btn btn-primary d-flex align-items-center shadow-sm">
                        <i class="bx bx-edit me-2"></i>{% trans "Edit Profile" %}
                    </a>
                    <div class="dropdown">
                        <button class="btn btn-outline-secondary dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown">
                            <i class="bx bx-cog me-2"></i>{% trans "Actions" %}
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0">
                            <li><a class="dropdown-item" href="#"><i class="bx bx-printer me-2"></i>{% trans "Print Profile" %}</a></li>
                            <li><a class="dropdown-item" href="{% url 'hr:staff_id_card' staff.pk %}" target="_blank"><i class="bx bx-id-card me-2"></i>{% trans "Generate ID Card" %}</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li>
                                <form action="{% url 'hr:staff_delete' staff.pk %}" method="post" class="d-inline w-100">
                                    {% csrf_token %}
                                    <button type="submit" class="dropdown-item text-danger" onclick="return confirm('{% trans "Are you sure you want to delete this staff member? This action cannot be undone." %}')">
                                        <i class="bx bx-trash me-2"></i>{% trans "Delete Staff" %}
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-4">
        <!-- Main Content Column -->
        <div class="col-lg-12">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-transparent border-bottom px-4 pt-3">
                    <ul class="nav nav-tabs card-header-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active py-2" data-bs-toggle="tab" href="#overview" role="tab"><i class="bx bx-grid-alt me-2"></i>{% trans "Overview" %}</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link py-2" data-bs-toggle="tab" href="#personal" role="tab"><i class="bx bx-user me-2"></i>{% trans "Personal" %}</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link py-2" data-bs-toggle="tab" href="#employment" role="tab"><i class="bx bx-briefcase me-2"></i>{% trans "Employment" %}</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link py-2" data-bs-toggle="tab" href="#documents" role="tab"><i class="bx bx-folder me-2"></i>{% trans "Documents" %}</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link py-2" data-bs-toggle="tab" href="#attendance" role="tab"><i class="bx bx-time me-2"></i>{% trans "Attendance" %}</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link py-2" data-bs-toggle="tab" href="#leave" role="tab"><i class="bx bx-calendar-event me-2"></i>{% trans "Leave" %}</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link py-2" data-bs-toggle="tab" href="#payroll" role="tab"><i class="bx bx-money me-2"></i>{% trans "Payroll" %}</a>
                        </li>
                    </ul>
                </div>
                <div class="card-body p-4 min-vh-50">
                    <div class="tab-content" id="staffTabContent">
                        
                        <!-- Overview Tab -->
                        <div class="tab-pane fade show active" id="overview" role="tabpanel">
                            <div class="row g-4">
                                <div class="col-md-3">
                                    <div class="card border bg-light h-100">
                                        <div class="card-body">
                                            <h6 class="text-muted text-uppercase fs-7 fw-bold mb-3">{% trans "Status" %}</h6>
                                            <div class="mb-3">
                                                <label class="small text-muted d-block">{% trans "Employment Status" %}</label>
                                                {% if staff.employment_status == 'ACTIVE' %}
                                                    <span class="badge bg-success-subtle text-success rounded-pill px-3">{% trans "Active" %}</span>
                                                {% else %}
                                                    <span class="badge bg-secondary-subtle text-secondary rounded-pill px-3">{{ staff.get_employment_status_display }}</span>
                                                {% endif %}
                                            </div>
                                            <div class="mb-0">
                                                <label class="small text-muted d-block">{% trans "Type" %}</label>
                                                <span class="fw-bold text-dark">{{ staff.get_employment_type_display }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card border bg-light h-100">
                                        <div class="card-body">
                                            <h6 class="text-muted text-uppercase fs-7 fw-bold mb-3">{% trans "Service" %}</h6>
                                            <div class="mb-3">
                                                <label class="small text-muted d-block">{% trans "Joining Date" %}</label>
                                                <span class="fw-bold text-dark">{{ staff.joining_date|date:"M d, Y" }}</span>
                                            </div>
                                            <div class="mb-0">
                                                <label class="small text-muted d-block">{% trans "Tenure" %}</label>
                                                <span class="fw-bold text-dark">{{ staff.joining_date|timesince }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border bg-light h-100">
                                        <div class="card-body">
                                            <h6 class="text-muted text-uppercase fs-7 fw-bold mb-3">{% trans "Contact Information" %}</h6>
                                            <div class="row">
                                                <div class="col-6 mb-3">
                                                    <label class="small text-muted d-block">{% trans "Personal Phone" %}</label>
                                                    <span class="fw-bold text-dark">{{ staff.personal_phone|default:"-" }}</span>
                                                </div>
                                                <div class="col-6 mb-3">
                                                    <label class="small text-muted d-block">{% trans "Work Phone" %}</label>
                                                    <span class="fw-bold text-dark">{{ staff.work_phone|default:"-" }}</span>
                                                </div>
                                                <div class="col-6 mb-0">
                                                    <label class="small text-muted d-block">{% trans "Personal Email" %}</label>
                                                    <a href="mailto:{{ staff.personal_email }}" class="text-decoration-none">{{ staff.personal_email }}</a>
                                                </div>
                                                <div class="col-6 mb-0">
                                                    <label class="small text-muted d-block">{% trans "Work Email" %}</label>
                                                    <a href="mailto:{{ staff.work_email }}" class="text-decoration-none">{{ staff.work_email }}</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Personal Tab -->
                        <div class="tab-pane fade" id="personal" role="tabpanel">
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <div class="mb-4">
                                        <h5 class="text-primary mb-3"><i class="bx bx-user-circle me-2"></i>{% trans "Basic Information" %}</h5>
                                        <table class="table table-borderless">
                                            <tr>
                                                <td class="text-muted w-40 ps-0">{% trans "Date of Birth" %}</td>
                                                <td class="fw-bold text-dark">{{ staff.date_of_birth|date:"F d, Y" }} <span class="text-muted small">({{ staff.age }} years)</span></td>
                                            </tr>
                                            <tr>
                                                <td class="text-muted ps-0">{% trans "Gender" %}</td>
                                                <td class="fw-bold text-dark">{{ staff.get_gender_display|default:"-" }}</td>
                                            </tr>
                                            <tr>
                                                <td class="text-muted ps-0">{% trans "Marital Status" %}</td>
                                                <td class="fw-bold text-dark">{{ staff.get_marital_status_display|default:"-" }}</td>
                                            </tr>
                                            <tr>
                                                <td class="text-muted ps-0">{% trans "Blood Group" %}</td>
                                                <td class="fw-bold text-dark">{{ staff.blood_group|default:"-" }}</td>
                                            </tr>
                                            <tr>
                                                <td class="text-muted ps-0">{% trans "Nationality" %}</td>
                                                <td class="fw-bold text-dark">{{ staff.nationality }}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    
                                    <div>
                                        <h5 class="text-primary mb-3"><i class="bx bx-phone-call me-2"></i>{% trans "Emergency Contact" %}</h5>
                                        <table class="table table-borderless">
                                            <tr>
                                                <td class="text-muted w-40 ps-0">{% trans "Name" %}</td>
                                                <td class="fw-bold text-dark">{{ staff.emergency_contact_name|default:"-" }}</td>
                                            </tr>
                                            <tr>
                                                <td class="text-muted ps-0">{% trans "Relation" %}</td>
                                                <td class="fw-bold text-dark">{{ staff.emergency_contact_relation|default:"-" }}</td>
                                            </tr>
                                            <tr>
                                                <td class="text-muted ps-0">{% trans "Phone" %}</td>
                                                <td class="fw-bold text-dark">{{ staff.emergency_contact_phone|default:"-" }}</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h5 class="text-primary mb-0"><i class="bx bx-home me-2"></i>{% trans "Addresses" %}</h5>
                                        <a href="{% url 'hr:staffaddress_create' %}?staff_id={{ staff.pk }}" class="btn btn-sm btn-outline-primary">
                                            <i class="bx bx-plus me-1"></i>{% trans "Add Address" %}
                                        </a>
                                    </div>
                                    
                                    {% for address in staff.addresses.all %}
                                    <div class="card mb-3 border bg-light">
                                        <div class="card-body p-3">
                                            <div class="d-flex justify-content-between mb-2">
                                                <span class="badge bg-primary rounded-pill">{{ address.get_address_type_display }}</span>
                                                {% if address.is_current %}<span class="badge bg-success-subtle text-success">{% trans "Current" %}</span>{% endif %}
                                            </div>
                                            <p class="mb-0 text-dark">
                                                {{ address.address_line1 }}<br>
                                                {% if address.address_line2 %}{{ address.address_line2 }}<br>{% endif %}
                                                {{ address.city }}, {{ address.state }}<br>
                                                {{ address.country }} - {{ address.pincode }}
                                            </p>
                                        </div>
                                    </div>
                                    {% empty %}
                                    <div class="text-center py-4 border rounded bg-light border-dashed">
                                        <i class="bx bx-map-pin text-muted fs-3 mb-2"></i>
                                        <p class="text-muted mb-0">{% trans "No addresses added yet." %}</p>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>

                        <!-- Employment Tab -->
                        <div class="tab-pane fade" id="employment" role="tabpanel">
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <h5 class="text-primary mb-3">{% trans "Job Details" %}</h5>
                                    <table class="table table-borderless">
                                        <tr>
                                            <td class="text-muted w-40 ps-0">{% trans "Department" %}</td>
                                            <td class="fw-bold text-dark">{{ staff.department.name }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted ps-0">{% trans "Designation" %}</td>
                                            <td class="fw-bold text-dark">{{ staff.designation.title }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted ps-0">{% trans "Grade" %}</td>
                                            <td class="fw-bold text-dark">{{ staff.designation.grade }}</td>
                                        </tr>
                                    </table>

                                    <h5 class="text-primary mt-4 mb-3">{% trans "Important Dates" %}</h5>
                                    <table class="table table-borderless">
                                        <tr>
                                            <td class="text-muted w-40 ps-0">{% trans "Joining Date" %}</td>
                                            <td class="fw-bold text-dark">{{ staff.joining_date|date:"F d, Y" }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted ps-0">{% trans "Confirmation Date" %}</td>
                                            <td class="fw-bold text-dark">{{ staff.confirmation_date|date:"F d, Y"|default:"-" }}</td>
                                        </tr>
                                        {% if staff.contract_end_date %}
                                        <tr>
                                            <td class="text-muted ps-0">{% trans "Contract End" %}</td>
                                            <td class="fw-bold text-dark">{{ staff.contract_end_date|date:"F d, Y" }}</td>
                                        </tr>
                                        {% endif %}
                                        <tr>
                                            <td class="text-muted ps-0">{% trans "Retirement Date" %}</td>
                                            <td class="fw-bold text-dark">{{ staff.retirement_date|date:"F d, Y"|default:"-" }}</td>
                                        </tr>
                                    </table>
                                </div>

                                <div class="col-md-6">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h5 class="text-primary mb-0">{% trans "Qualifications" %}</h5>
                                        <!-- Link to Staff Edit which has qualifications widget -->
                                        <a href="{% url 'hr:staff_update' staff.pk %}" class="btn btn-sm btn-outline-primary">
                                            <i class="bx bx-edit me-1"></i>{% trans "Edit" %}
                                        </a>
                                    </div>
                                    <div class="border rounded bg-light p-3 mb-4">
                                        {% if staff.qualifications.exists %}
                                            <ul class="list-unstyled mb-0">
                                            {% for qual in staff.qualifications.all %}
                                                <li class="mb-2 d-flex align-items-start">
                                                    <i class="bx bx-check-circle text-success mt-1 me-2"></i>
                                                    <div>
                                                        <strong>{{ qual.degree }}</strong> in {{ qual.specialization }}
                                                        <div class="small text-muted">{{ qual.institution }} ({{ qual.year }})</div>
                                                    </div>
                                                </li>
                                            {% endfor %}
                                            </ul>
                                        {% else %}
                                            <p class="text-muted mb-0 small">{% trans "No qualifications recorded." %}</p>
                                        {% endif %}
                                    </div>

                                    <h5 class="text-primary mb-3">{% trans "Statutory Info" %}</h5>
                                    <table class="table table-borderless table-sm">
                                        <tr>
                                            <td class="text-muted w-40">{% trans "PAN Number" %}</td>
                                            <td class="fw-bold font-monospace">{{ staff.pan_number|default:"-" }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">{% trans "Aadhaar Number" %}</td>
                                            <td class="fw-bold font-monospace">{{ staff.aadhaar_number|default:"-" }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">{% trans "PF Number" %}</td>
                                            <td class="fw-bold font-monospace">{{ staff.pf_number|default:"-" }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">{% trans "ESI Number" %}</td>
                                            <td class="fw-bold font-monospace">{{ staff.esi_number|default:"-" }}</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Documents Tab -->
                        <div class="tab-pane fade" id="documents" role="tabpanel">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h6 class="mb-0 text-muted text-uppercase">{% trans "Uploaded Documents" %}</h6>
                                <a href="{% url 'hr:staffdocument_upload' %}?staff_id={{ staff.pk }}" class="btn btn-sm btn-primary">
                                    <i class="bx bx-upload me-2"></i>{% trans "Upload Document" %}
                                </a>
                            </div>
                            <div class="row g-3">
                                {% for doc in staff.documents.all %}
                                <div class="col-md-6 col-lg-4">
                                    <div class="card h-100 border p-3">
                                        <div class="d-flex align-items-start">
                                            <div class="me-3">
                                                <div class="avatar-sm bg-light rounded d-flex align-items-center justify-content-center text-primary">
                                                    <i class="bx bx-file fs-4"></i>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 overflow-hidden">
                                                <h6 class="mb-1 text-truncate" title="{{ doc.get_document_type_display }}">{{ doc.get_document_type_display }}</h6>
                                                <p class="small text-muted mb-2">{{ doc.file_name|truncatechars:20 }}</p>
                                                <div class="d-flex gap-2">
                                                    <a href="{{ doc.file.url }}" target="_blank" class="btn btn-xs btn-outline-primary">{% trans "View" %}</a>
                                                    {% if doc.is_verified %}
                                                        <span class="badge bg-success-subtle text-success ms-auto"><i class="bx bx-check-double me-1"></i>{% trans "Verified" %}</span>
                                                    {% else %}
                                                        <span class="badge bg-warning-subtle text-warning ms-auto">{% trans "Pending" %}</span>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% empty %}
                                <div class="col-12">
                                    <div class="text-center py-5 bg-light rounded border border-dashed">
                                        <i class="bx bx-folder-open text-muted fs-1 mb-3"></i>
                                        <p class="text-muted mb-0">{% trans "No documents found." %}</p>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>

                        <!-- Attendance Tab -->
                        <div class="tab-pane fade" id="attendance" role="tabpanel">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h6 class="text-muted text-uppercase mb-0">{% trans "Recent Attendance" %}</h6>
                                <a href="#" class="btn btn-sm btn-outline-primary">{% trans "View Full History" %}</a>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover align-middle">
                                    <thead class="bg-light">
                                        <tr>
                                            <th>{% trans "Date" %}</th>
                                            <th>{% trans "Status" %}</th>
                                            <th>{% trans "Check In" %}</th>
                                            <th>{% trans "Check Out" %}</th>
                                            <th>{% trans "Duration" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for record in staff.attendances.all|slice:":10" %}
                                        <tr>
                                            <td>{{ record.date|date:"D, M d" }}</td>
                                            <td>
                                                {% if record.status == 'PRESENT' %}
                                                    <span class="badge bg-success-subtle text-success">Present</span>
                                                {% elif record.status == 'ABSENT' %}
                                                    <span class="badge bg-danger-subtle text-danger">Absent</span>
                                                {% else %}
                                                    <span class="badge bg-warning-subtle text-warning">{{ record.get_status_display }}</span>
                                                {% endif %}
                                            </td>
                                            <td>{{ record.check_in|time:"H:i"|default:"-" }}</td>
                                            <td>{{ record.check_out|time:"H:i"|default:"-" }}</td>
                                            <td>{% if record.total_hours %}{{ record.total_hours|floatformat:2 }} hrs{% else %}-{% endif %}</td>
                                        </tr>
                                        {% empty %}
                                        <tr><td colspan="5" class="text-center text-muted py-4">{% trans "No attendance records found" %}</td></tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Leave Tab -->
                        <div class="tab-pane fade" id="leave" role="tabpanel">
                             <div class="row g-3 mb-4">
                                {% for balance in staff.leave_balances.all %}
                                <div class="col-sm-6 col-md-4">
                                    <div class="card border bg-light">
                                        <div class="card-body">
                                            <div class="small text-muted text-uppercase fw-bold mb-2">{{ balance.leave_type.name }}</div>
                                            <div class="d-flex align-items-baseline">
                                                <h3 class="mb-0 text-primary">{{ balance.remaining_days }}</h3>
                                                <span class="text-muted small ms-2">/ {{ balance.total_entitled }} days</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% empty %}
                                <div class="col-12 text-muted">{% trans "No leave balances initialized." %}</div>
                                {% endfor %}
                            </div>

                            <h6 class="text-muted text-uppercase mb-3">{% trans "Recent Applications" %}</h6>
                            <div class="table-responsive">
                                <table class="table table-hover align-middle">
                                    <thead class="bg-light">
                                        <tr>
                                            <th>{% trans "Type" %}</th>
                                            <th>{% trans "Dates" %}</th>
                                            <th>{% trans "Days" %}</th>
                                            <th>{% trans "Status" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for leave in staff.leave_applications.all|slice:":5" %}
                                        <tr>
                                            <td>{{ leave.leave_type.name }}</td>
                                            <td>{{ leave.start_date|date:"M d" }} - {{ leave.end_date|date:"M d" }}</td>
                                            <td>{{ leave.total_days }}</td>
                                            <td>
                                                <span class="badge {% if leave.status == 'APPROVED' %}bg-success{% elif leave.status == 'REJECTED' %}bg-danger{% else %}bg-warning{% endif %}">
                                                    {{ leave.status }}
                                                </span>
                                            </td>
                                        </tr>
                                         {% empty %}
                                        <tr><td colspan="4" class="text-center text-muted py-4">{% trans "No leave applications found" %}</td></tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Payroll Tab -->
                        <div class="tab-pane fade" id="payroll" role="tabpanel">
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6 class="text-primary mb-3">{% trans "Bank Details" %}</h6>
                                    <table class="table table-borderless">
                                        <tr>
                                            <td class="text-muted w-40 ps-0">{% trans "Bank Name" %}</td>
                                            <td class="fw-bold text-dark">{{ staff.bank_name|default:"-" }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted ps-0">{% trans "Account Number" %}</td>
                                            <td class="fw-bold font-monospace text-dark">{{ staff.bank_account_number|default:"-" }}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted ps-0">{% trans "IFSC Code" %}</td>
                                            <td class="fw-bold font-monospace text-dark">{{ staff.ifsc_code|default:"-" }}</td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="col-md-6">
                                    <div class="card bg-primary text-white">
                                        <div class="card-body">
                                            <h6 class="text-white-50 text-uppercase mb-2">{% trans "Current Basic Salary" %}</h6>
                                            <h3 class="mb-0">{{ staff.basic_salary }}</h3>
                                        </div>
                                    </div>
                                </div>
                            </div>
                             <div class="table-responsive">
                                <table class="table table-hover align-middle">
                                    <thead class="bg-light">
                                        <tr>
                                            <th>{% trans "Month" %}</th>
                                            <th>{% trans "Net Pay" %}</th>
                                            <th>{% trans "Status" %}</th>
                                            <th>{% trans "Payslip" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Placeholder for payroll history iteration -->
                                        <tr><td colspan="4" class="text-center text-muted py-4">{% trans "No payroll history available" %}</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
